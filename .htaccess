# Configuration Apache pour Next.js Static Export
# Version simplifiée compatible Plesk

# Activer le module de réécriture
<IfModule mod_rewrite.c>
  RewriteEngine On
  
  # Permettre les certificats SSL (Let's Encrypt)
  RewriteCond %{REQUEST_URI} !^/\.well-known/
  
  # Rediriger HTTP vers HTTPS (si vous avez SSL)
  # Décommentez les 2 lignes suivantes si nécessaire :
  # RewriteCond %{HTTPS} off
  # RewriteRule ^(.*)$ https://%{HTTP_HOST}/$1 [R=301,L]
  
  # Si le fichier ou dossier existe, le servir
  RewriteCond %{REQUEST_FILENAME} !-f
  RewriteCond %{REQUEST_FILENAME} !-d
  
  # Servir index.html pour toutes les routes
  RewriteRule ^(.*)$ /index.html [L]
</IfModule>

# Sécurité : désactiver l'affichage des répertoires
Options -Indexes

# Types MIME
AddType application/javascript .js
AddType application/json .json
AddType image/svg+xml .svg
AddType image/webp .webp
